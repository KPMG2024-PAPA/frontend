{"ast":null,"code":"var _jsxFileName = \"/Users/heng/Desktop/kpmg/kpmg/\\u1106\\u116E\\u110C\\u1166 \\u1111\\u1169\\u11AF\\u1103\\u1165/frontend/src/component/page/SimPage.jsx\",\n  _s2 = $RefreshSig$();\nimport React from 'react';\nimport styled from 'styled-components';\nimport { useNavigate } from 'react-router-dom';\nimport { createGlobalStyle } from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport Dialog from '../ui/Dialog';\nimport TextInput from '../ui/TextInput';\nimport Button from '../ui/Button';\nimport Table from '../ui/Table';\nimport HeaderComponent from '../ui/HeaderComponent';\nimport { animationMixin } from '../effect/Animation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AllGlobalStyle = createGlobalStyle`\n  @font-face {\n    font-family: 'Pretendard-ExtraBold';\n    src: url('/font/Pretendard-ExtraBold.ttf') format('truetype');\n  }\n    body {\n    font-family: 'Pretendard-ExtraBold';\n    }\n  @font-face {\n    font-family: 'Pretendard-Medium';\n    src: url('/font/Pretendard-Medium.ttf') format('truetype');;\n  }\n `;\n\n/* 레이아웃 코드 */\n_c = AllGlobalStyle;\nconst Wrapper = styled.div`\n  padding-left: 180px;\n  padding-right: 180px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 1000px;\n`;\n_c2 = Wrapper;\nconst SecondWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  width: 80%;\n  height: 130px;\n  padding-top: 60px;\n  gap: 20px;\n  ${animationMixin};\n`;\n_c3 = SecondWrapper;\nconst ThirdWrapper = styled.div`\n  padding: 60px;\n  display: flex;\n  width: 100%; \n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  box-sizing: border-box;\n  ${({\n  isVisible\n}) => isVisible && animationMixin}; // isVisible이 true일 때만 애니메이션 적용\n`;\n_c4 = ThirdWrapper;\nconst FourthWrapper = styled.div`\n  width: 100%;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  padding-top: 20px;\n`;\n\n/* 상단바- 선택된 페이지 버튼*/\n_c5 = FourthWrapper;\nconst HeaderBox = styled.div`\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 40px; /* 높이 조정 */\n    width: 100px;\n    margin-left: 5px;\n    margin-right: 5px;\n`;\nconst HeaderBoxText = styled.p`\n  font-size: 16px;\n  text-align: center;\n  color: #252a2f;\n`;\n_c6 = HeaderBoxText;\nconst HeaderBoxTextNone = styled.p`\n  font-size: 16px;\n  text-align: center;\n  color: #8c8c8c;\n`;\n_c7 = HeaderBoxTextNone;\nconst ClickableBox = styled(HeaderBox)`\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  &:hover {\n    background-color: #dcdcdc;\n  }\n`;\n\n/* 페이지 제목 */\n_c8 = ClickableBox;\nconst MainTitleText = styled.p`\n    font-size: 46px;\n    font-weight: bold;\n    text-align: center;\n    margin-bottom: 0px;\n    padding-bottom: 0px;\n    color: #252a2f;\n    font-family: 'Pretendard-ExtraBold';\n    ${animationMixin};\n`;\n_c9 = MainTitleText;\nconst HighlightText = styled.span`\n    color: #252a2f;\n    background: linear-gradient(to right, #d3e8f7, #e9dcf9);\n    border-radius: 15px;\n    padding-left: 10px;\n    padding-right: 10px;\n    font-family: 'Pretendard-ExtraBold';\n`;\n\n/* 본문 상단 */\n_c10 = HighlightText;\nconst GuideText = styled.p`\n  font-size: 12px;\n  text-align: center;\n  color: #aaaaaa;\n  font-family: 'Pretendard-ExtraBold';\n  ${animationMixin};\n`;\n_c11 = GuideText;\nconst CustomButton = styled(Button)`\n  padding: 7px 7px;\n  font-size: 30px;\n  border-width: 0px;\n  border-radius: 15px;\n  display: flex;\n  width: 140px;\n  height: 100%;\n  cursor: pointer;\n  align-items: center;\n  background: linear-gradient(to right, #d3e8f7, #e9dcf9);\n  color: white;\n  justify-content: center;\n  box-shadow: inset 0px 0px 3px rgba(0, 0, 0, 0.1);\n  font-family: 'Pretendard-ExtraBold';\n  ${animationMixin};\n`;\n_c12 = CustomButton;\nconst CustomTextInput = styled(TextInput)`\n    height: 100%;\n    box-sizing: border-box; // padding을 포함한 높이로 설정\n    ${animationMixin}\n`;\n\n/* 본문 하단 */\n_c13 = CustomTextInput;\nconst SubText = styled.p`\n  font-size: 20px;\n  padding-bottom: 20px;\n  text-align: center;\n  color: #252a2f;\n  font-family: 'Pretendard-ExtraBold';\n`;\n_c14 = SubText;\nconst DefaultText = styled.div`\n  font-size: 20px;\n  padding-top: 10px;\n  padding-bottom: 15px;\n  text-align: center;\n  color: #252a2f;\n  font-family: 'Pretendard-ExtraBold';\n`;\n\n/* 로딩화면 컴포넌트 */\n_c15 = DefaultText;\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000; // 수정됨\n`;\n_c16 = Overlay;\nconst Message = styled.p`\n  color: #d0d0d0;\n  display: flex;\n  flex-direction: column;\n  font-size: 24px; // 수정됨\n  opacity: 0; // 초기 상태는 투명\n  align-items: center;\n  animation: fadeInOut 4s infinite; // 4초 동안 무한 반복\n  background-color:  rgba(0, 0, 0, 0.3);\n  width: 368px;\n  padding: 20px;\n  border-radius: 15px;\n  box-shadow: inset 0px 0px 3px rgba(0, 0, 0, 0.1);\n\n  @keyframes fadeInOut {\n    0%, 100% { opacity: 0; }\n    50% { opacity: 1; }\n  }\n`;\n\n/* 국가명에 따른 이모티콘 반환 함수 */\n_c17 = Message;\nconst countryToEmoji = country => {\n  switch (country) {\n    case 'KR':\n      return '🇰🇷';\n    case 'US':\n      return '🇺🇸';\n    case 'CN':\n      return '🇨🇳';\n    case 'JP':\n      return '🇯🇵';\n    case 'EP':\n      return '🇪🇺';\n    case 'WO':\n      return '🌐';\n    default:\n      return '-';\n  }\n};\nconst SimPage = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  const navigate = useNavigate();\n  const [isDialogOpen, setIsDialogOpen] = useState(false); // Dialog 표시 상태\n  const [text, setText] = useState('');\n  const [domesticData, setDomesticData] = useState([]); // 국내 특허 데이터 상태\n  const [internationalData, setInternationalData] = useState([]); // 해외 특허 데이터 상태\n  const [selectedItemDetails, setSelectedItemDetails] = useState('');\n  const hasData = domesticData.length > 0 || internationalData.length > 0;\n\n  // 페이지 이동 함수\n  const navigateTo = path => {\n    console.log(`${path} clicked!`);\n    navigate(path);\n  };\n\n  // Dialog를 열기 위한 함수\n  const openDialog = () => {\n    setIsDialogOpen(true);\n  };\n\n  // Dialog를 닫기 위한 함수\n  const closeDialog = () => {\n    setIsDialogOpen(false);\n  };\n  const handleChange = event => {\n    // 사용자 입력에 따라 텍스트를 업데이트합니다.\n    setText(event.target.value);\n  };\n\n  // 테이블 컴포넌트에 사용할 임시\n  const columns = React.useMemo(() => [\n  // 컬럼 정의 업데이트\n  {\n    Header: '번호',\n    accessor: 'number'\n  }, {\n    Header: '국가',\n    accessor: 'country',\n    Cell: ({\n      value\n    }) => /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        fontSize: '24px'\n      },\n      children: countryToEmoji(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 9\n    }, this) // 폰트 크기를 24px로 조정\n  }, {\n    Header: '출원 번호',\n    accessor: 'id'\n  }, {\n    Header: '발명의 명칭',\n    accessor: '발명의명칭'\n  }, {\n    Header: '대표 분류 코드',\n    accessor: 'IPC_code_only'\n  }, {\n    Header: '유사도',\n    accessor: 'distance'\n  }, {\n    Header: '요약',\n    accessor: 'details',\n    // Use a custom cell renderer\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        cursor: 'pointer',\n        backgroundColor: 'transparent',\n        border: 'none'\n      },\n      onClick: () => openDetailsDialog(row.original),\n      children: \"\\uD83D\\uDD0E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 11\n    }, this)\n  }], []);\n  const handleSubmit = async e => {\n    e === null || e === void 0 ? void 0 : e.preventDefault(); // 폼 제출 방지\n\n    setIsLoading(true);\n    const requestBody = {\n      query: text,\n      n_results: 10\n    };\n    try {\n      const response = await fetch('http://localhost:8000/similarity-check', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(requestBody)\n      });\n      const responseData = await response.json(); // 서버 응답을 JSON 형태로 변환\n\n      const transformedDomesticData = responseData.korean_results.results.map((item, index) => {\n        return {\n          number: index + 1,\n          id: item.id,\n          country: 'KR',\n          발명의명칭: item.발명의명칭,\n          distance: (1 - item.distance).toFixed(2),\n          IPC_code_only: [...new Set(item.IPC_code_only.replace(/[\\[\\]']+/g, '').split(','))].join(', '),\n          // 배열 표현을 문자열로 변환\n          details: item.요약\n        };\n      });\n      setDomesticData(transformedDomesticData);\n      const transformedInternationalData = responseData.foreign_results.results.map((item, index) => ({\n        number: index + 1,\n        id: item.id,\n        country: item.국가,\n        발명의명칭: item.발명의명칭,\n        distance: (1 - item.distance).toFixed(2),\n        IPC_code_only: item.ipc_category.replace(/[\\[\\]']+/g, ''),\n        // 배열 표현을 문자열로 변환\n        details: item.요약\n      }));\n      setInternationalData(transformedInternationalData);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } finally {\n      setIsLoading(false); // 로딩 상태 종료\n    }\n  };\n  const openDetailsDialog = item => {\n    setSelectedItemDetails(item.details); // Assume 'details' contains the summary text\n    setIsDialogOpen(true);\n  };\n  const handleButtonClick = async () => {\n    await handleSubmit(); // Call handleSubmit directly or modify to not use the event parameter\n  };\n  const [isLoading, setIsLoading] = useState(false); // 로딩 상태 관리\n\n  // 로딩 화면 컴포넌트\n  const LoadingOverlay = () => {\n    _s();\n    const messages = [/*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '50px',\n          marginBottom: '5px',\n          color: '#252a2f'\n        },\n        children: \"\\uD83E\\uDD14\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uC791\\uC131\\uD574\\uC8FC\\uC2E0 \\uB0B4\\uC6A9\\uC744 \\uBD84\\uC11D\\uD558\\uACE0 \\uC788\\uC5B4\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '50px',\n          marginBottom: '5px',\n          color: '#252a2f'\n        },\n        children: \"\\u231B\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"n\\uBD84\\uC815\\uB3C4 \\uC18C\\uC694\\uB420 \\uC218 \\uC788\\uC5B4\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true)];\n    const [currentMessageIndex, setCurrentMessageIndex] = useState(0);\n    useEffect(() => {\n      const intervalId = setInterval(() => {\n        setCurrentMessageIndex(prevIndex => (prevIndex + 1) % messages.length);\n      }, 4000); // 메시지 변경 주기를 4초로 설정 (애니메이션 주기에 맞춤)\n\n      return () => clearInterval(intervalId);\n    }, []);\n    return /*#__PURE__*/_jsxDEV(Overlay, {\n      children: /*#__PURE__*/_jsxDEV(Message, {\n        children: messages[currentMessageIndex]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this);\n  };\n  _s(LoadingOverlay, \"VzTfldDESjdNE52maV4QCHmwIQc=\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(AllGlobalStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HeaderComponent, {\n      children: [/*#__PURE__*/_jsxDEV(ClickableBox, {\n        onClick: () => navigateTo('/spec-page'),\n        children: /*#__PURE__*/_jsxDEV(HeaderBoxTextNone, {\n          children: \"\\uBA85\\uC138\\uC11C \\uC791\\uC131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ClickableBox, {\n        onClick: () => navigateTo('/sim-page'),\n        children: /*#__PURE__*/_jsxDEV(HeaderBoxText, {\n          children: \"\\uC720\\uC0AC\\uB3C4 \\uBD84\\uC11D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ClickableBox, {\n        onClick: () => navigateTo('/research-page-main'),\n        children: /*#__PURE__*/_jsxDEV(HeaderBoxTextNone, {\n          children: \"\\uC5F0\\uAD6C\\uB3D9\\uD5A5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: [/*#__PURE__*/_jsxDEV(MainTitleText, {\n        children: [\"\\uD83D\\uDCC8 \", /*#__PURE__*/_jsxDEV(HighlightText, {\n          children: \"\\uC720\\uC0AC\\uB3C4 \\uBD84\\uC11D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 29\n        }, this), \" \\uC744 \\uB3C4\\uC640\\uB4DC\\uB9B4\\uAC8C\\uC694\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(GuideText, {\n        children: \"* \\uD604\\uC7AC \\uC11C\\uBE44\\uC2A4\\uB294 \\uD55C\\uAD6D/\\uBBF8\\uAD6D/\\uC911\\uAD6D/\\uC77C\\uBCF8/\\uC720\\uB7FD \\uB2E4\\uC12F \\uAD6D\\uAC00\\uC758 \\uD2B9\\uD5C8 \\uC815\\uBCF4\\uB9CC \\uC81C\\uACF5\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SubText, {\n        style: {\n          marginTop: '40px',\n          marginBottom: '-50px'\n        },\n        children: \"\\uC544\\uC774\\uB514\\uC5B4\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC2DC\\uBA74, \\uD55C \\uBC88\\uC5D0 \\uAD6D\\uB0B4\\uC678 \\uC720\\uC0AC \\uD2B9\\uD5C8\\uB97C \\uBCF4\\uC5EC\\uB4DC\\uB824\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SecondWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(CustomTextInput, {\n          placeholder: \"분석할 아이디어를 입력해주세요\",\n          value: text,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CustomButton, {\n          title: \"\\uD83D\\uDD0D\",\n          onClick: handleButtonClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 11\n      }, this), hasData && /*#__PURE__*/_jsxDEV(ThirdWrapper, {\n        isVisible: hasData,\n        children: [/*#__PURE__*/_jsxDEV(SubText, {\n          children: \"\\uB2F9\\uC2E0\\uC758 \\uC544\\uC774\\uB514\\uC5B4\\uB97C \\uBD84\\uC11D\\uD55C \\uACB0\\uACFC, \\uC720\\uC0AC\\uD55C \\uD2B9\\uD5C8\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uC544\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FourthWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(DefaultText, {\n            children: \"\\uD83C\\uDDF0\\uD83C\\uDDF7 \\uAD6D\\uB0B4 \\uD2B9\\uD5C8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            columns: columns,\n            data: domesticData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FourthWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(DefaultText, {\n            children: \"\\uD83C\\uDF0E \\uD574\\uC678 \\uD2B9\\uD5C8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            columns: columns,\n            data: internationalData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(LoadingOverlay, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 21\n    }, this), isDialogOpen && /*#__PURE__*/_jsxDEV(Dialog, {\n      title: \"\\uBC1C\\uBA85 \\uC694\\uC57D \\uC815\\uBCF4\",\n      confirmText: \"\\uD655\\uC778\",\n      onCancel: () => setIsDialogOpen(false),\n      onConfirm: () => setIsDialogOpen(false),\n      visible: isDialogOpen,\n      children: selectedItemDetails\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 5\n  }, this);\n};\n_s2(SimPage, \"Dbh4SicKbgMsf0l9MgPsykpRJt8=\", false, function () {\n  return [useNavigate];\n});\n_c18 = SimPage;\nexport default SimPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18;\n$RefreshReg$(_c, \"AllGlobalStyle\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"SecondWrapper\");\n$RefreshReg$(_c4, \"ThirdWrapper\");\n$RefreshReg$(_c5, \"FourthWrapper\");\n$RefreshReg$(_c6, \"HeaderBoxText\");\n$RefreshReg$(_c7, \"HeaderBoxTextNone\");\n$RefreshReg$(_c8, \"ClickableBox\");\n$RefreshReg$(_c9, \"MainTitleText\");\n$RefreshReg$(_c10, \"HighlightText\");\n$RefreshReg$(_c11, \"GuideText\");\n$RefreshReg$(_c12, \"CustomButton\");\n$RefreshReg$(_c13, \"CustomTextInput\");\n$RefreshReg$(_c14, \"SubText\");\n$RefreshReg$(_c15, \"DefaultText\");\n$RefreshReg$(_c16, \"Overlay\");\n$RefreshReg$(_c17, \"Message\");\n$RefreshReg$(_c18, \"SimPage\");","map":{"version":3,"names":["React","styled","useNavigate","createGlobalStyle","useState","useEffect","Dialog","TextInput","Button","Table","HeaderComponent","animationMixin","jsxDEV","_jsxDEV","Fragment","_Fragment","AllGlobalStyle","_c","Wrapper","div","_c2","SecondWrapper","_c3","ThirdWrapper","isVisible","_c4","FourthWrapper","_c5","HeaderBox","HeaderBoxText","p","_c6","HeaderBoxTextNone","_c7","ClickableBox","_c8","MainTitleText","_c9","HighlightText","span","_c10","GuideText","_c11","CustomButton","_c12","CustomTextInput","_c13","SubText","_c14","DefaultText","_c15","Overlay","_c16","Message","_c17","countryToEmoji","country","SimPage","_s2","_s","$RefreshSig$","navigate","isDialogOpen","setIsDialogOpen","text","setText","domesticData","setDomesticData","internationalData","setInternationalData","selectedItemDetails","setSelectedItemDetails","hasData","length","navigateTo","path","console","log","openDialog","closeDialog","handleChange","event","target","value","columns","useMemo","Header","accessor","Cell","style","fontSize","children","fileName","_jsxFileName","lineNumber","columnNumber","row","cursor","backgroundColor","border","onClick","openDetailsDialog","original","handleSubmit","e","preventDefault","setIsLoading","requestBody","query","n_results","response","fetch","method","headers","body","JSON","stringify","responseData","json","transformedDomesticData","korean_results","results","map","item","index","number","id","발명의명칭","distance","toFixed","IPC_code_only","Set","replace","split","join","details","요약","transformedInternationalData","foreign_results","국가","ipc_category","error","handleButtonClick","isLoading","LoadingOverlay","messages","marginBottom","color","currentMessageIndex","setCurrentMessageIndex","intervalId","setInterval","prevIndex","clearInterval","marginTop","placeholder","onChange","title","data","confirmText","onCancel","onConfirm","visible","_c18","$RefreshReg$"],"sources":["/Users/heng/Desktop/kpmg/kpmg/무제 폴더/frontend/src/component/page/SimPage.jsx"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { useNavigate } from 'react-router-dom';\nimport { createGlobalStyle } from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport Dialog from '../ui/Dialog';\n\nimport TextInput from '../ui/TextInput';\nimport Button from '../ui/Button';\nimport Table from '../ui/Table';\nimport HeaderComponent from '../ui/HeaderComponent'\nimport { animationMixin } from '../effect/Animation';\n\nconst AllGlobalStyle = createGlobalStyle`\n  @font-face {\n    font-family: 'Pretendard-ExtraBold';\n    src: url('/font/Pretendard-ExtraBold.ttf') format('truetype');\n  }\n    body {\n    font-family: 'Pretendard-ExtraBold';\n    }\n  @font-face {\n    font-family: 'Pretendard-Medium';\n    src: url('/font/Pretendard-Medium.ttf') format('truetype');;\n  }\n `;\n \n/* 레이아웃 코드 */\nconst Wrapper = styled.div`\n  padding-left: 180px;\n  padding-right: 180px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 1000px;\n`;\n\nconst SecondWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  width: 80%;\n  height: 130px;\n  padding-top: 60px;\n  gap: 20px;\n  ${animationMixin};\n`;\n\nconst ThirdWrapper = styled.div`\n  padding: 60px;\n  display: flex;\n  width: 100%; \n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  box-sizing: border-box;\n  ${({ isVisible }) => isVisible && animationMixin}; // isVisible이 true일 때만 애니메이션 적용\n`;\n\nconst FourthWrapper = styled.div`\n  width: 100%;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  padding-top: 20px;\n`;\n\n/* 상단바- 선택된 페이지 버튼*/\nconst HeaderBox = styled.div`\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 40px; /* 높이 조정 */\n    width: 100px;\n    margin-left: 5px;\n    margin-right: 5px;\n`;\n\nconst HeaderBoxText = styled.p`\n  font-size: 16px;\n  text-align: center;\n  color: #252a2f;\n`;\n\nconst HeaderBoxTextNone = styled.p`\n  font-size: 16px;\n  text-align: center;\n  color: #8c8c8c;\n`;\n\nconst ClickableBox = styled(HeaderBox)`\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  &:hover {\n    background-color: #dcdcdc;\n  }\n`;\n\n\n\n\n/* 페이지 제목 */\nconst MainTitleText = styled.p`\n    font-size: 46px;\n    font-weight: bold;\n    text-align: center;\n    margin-bottom: 0px;\n    padding-bottom: 0px;\n    color: #252a2f;\n    font-family: 'Pretendard-ExtraBold';\n    ${animationMixin};\n`;\n\nconst HighlightText = styled.span`\n    color: #252a2f;\n    background: linear-gradient(to right, #d3e8f7, #e9dcf9);\n    border-radius: 15px;\n    padding-left: 10px;\n    padding-right: 10px;\n    font-family: 'Pretendard-ExtraBold';\n`;\n\n\n/* 본문 상단 */\nconst GuideText = styled.p`\n  font-size: 12px;\n  text-align: center;\n  color: #aaaaaa;\n  font-family: 'Pretendard-ExtraBold';\n  ${animationMixin};\n`;\n\nconst CustomButton = styled(Button)`\n  padding: 7px 7px;\n  font-size: 30px;\n  border-width: 0px;\n  border-radius: 15px;\n  display: flex;\n  width: 140px;\n  height: 100%;\n  cursor: pointer;\n  align-items: center;\n  background: linear-gradient(to right, #d3e8f7, #e9dcf9);\n  color: white;\n  justify-content: center;\n  box-shadow: inset 0px 0px 3px rgba(0, 0, 0, 0.1);\n  font-family: 'Pretendard-ExtraBold';\n  ${animationMixin};\n`;\n\nconst CustomTextInput = styled(TextInput)`\n    height: 100%;\n    box-sizing: border-box; // padding을 포함한 높이로 설정\n    ${animationMixin}\n`;\n\n/* 본문 하단 */\nconst SubText = styled.p`\n  font-size: 20px;\n  padding-bottom: 20px;\n  text-align: center;\n  color: #252a2f;\n  font-family: 'Pretendard-ExtraBold';\n`;\n\nconst DefaultText = styled.div`\n  font-size: 20px;\n  padding-top: 10px;\n  padding-bottom: 15px;\n  text-align: center;\n  color: #252a2f;\n  font-family: 'Pretendard-ExtraBold';\n`;\n\n\n/* 로딩화면 컴포넌트 */\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000; // 수정됨\n`;\n\n\nconst Message = styled.p`\n  color: #d0d0d0;\n  display: flex;\n  flex-direction: column;\n  font-size: 24px; // 수정됨\n  opacity: 0; // 초기 상태는 투명\n  align-items: center;\n  animation: fadeInOut 4s infinite; // 4초 동안 무한 반복\n  background-color:  rgba(0, 0, 0, 0.3);\n  width: 368px;\n  padding: 20px;\n  border-radius: 15px;\n  box-shadow: inset 0px 0px 3px rgba(0, 0, 0, 0.1);\n\n  @keyframes fadeInOut {\n    0%, 100% { opacity: 0; }\n    50% { opacity: 1; }\n  }\n`;\n\n  /* 국가명에 따른 이모티콘 반환 함수 */\n  const countryToEmoji = (country) => {\n    switch (country) {\n      case 'KR': return '🇰🇷';\n      case 'US': return '🇺🇸';\n      case 'CN': return '🇨🇳';\n      case 'JP': return '🇯🇵';\n      case 'EP': return '🇪🇺';\n      case 'WO': return '🌐';\n      default: return '-';\n    }\n  };\n\n\n\nconst SimPage = () => {\n  const navigate = useNavigate();\n  const [isDialogOpen, setIsDialogOpen] = useState(false); // Dialog 표시 상태\n  const [text, setText] = useState('');\n  const [domesticData, setDomesticData] = useState([]); // 국내 특허 데이터 상태\n  const [internationalData, setInternationalData] = useState([]); // 해외 특허 데이터 상태\n  const [selectedItemDetails, setSelectedItemDetails] = useState('');\n  const hasData = domesticData.length > 0 || internationalData.length > 0;\n  \n  \n  // 페이지 이동 함수\n  const navigateTo = (path) => {\n    console.log(`${path} clicked!`);\n    navigate(path);\n  };\n\n  // Dialog를 열기 위한 함수\n  const openDialog = () => {\n    setIsDialogOpen(true);\n  };\n\n  // Dialog를 닫기 위한 함수\n  const closeDialog = () => {\n    setIsDialogOpen(false);\n  };\n\n  const handleChange = (event) => {\n    // 사용자 입력에 따라 텍스트를 업데이트합니다.\n    setText(event.target.value);\n  };\n\n    // 테이블 컴포넌트에 사용할 임시\n  const columns = React.useMemo(\n    () => [\n        // 컬럼 정의 업데이트\n      { Header: '번호', accessor: 'number' },\n      { Header: '국가', accessor: 'country', Cell: ({ value }) => (\n        <span style={{ fontSize: '24px' }}>{countryToEmoji(value)}</span> // 폰트 크기를 24px로 조정\n      )},\n      { Header: '출원 번호', accessor: 'id' },\n      { Header: '발명의 명칭', accessor: '발명의명칭'},\n      { Header: '대표 분류 코드', accessor: 'IPC_code_only' },\n      { Header: '유사도', accessor: 'distance' },\n      {\n        Header: '요약',\n        accessor: 'details',\n        // Use a custom cell renderer\n        Cell: ({ row }) => (\n          <button style={{ cursor: 'pointer', backgroundColor: 'transparent', border: 'none' }} onClick={() => openDetailsDialog(row.original)}>\n            🔎\n          </button>\n        ),\n      },\n    ],\n    []\n  );\n\n  const handleSubmit = async (e) => {\n    e?.preventDefault(); // 폼 제출 방지\n\n    setIsLoading(true);\n\n    const requestBody = { query: text, n_results: 10 };\n\n    try {\n      const response = await fetch('http://localhost:8000/similarity-check', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody),\n      });\n\n      const responseData = await response.json(); // 서버 응답을 JSON 형태로 변환\n\n      const transformedDomesticData = responseData.korean_results.results.map((item, index) => {\n        return {\n          number: index + 1,\n          id: item.id,\n          country: 'KR',\n          발명의명칭: item.발명의명칭,\n          distance: (1 - item.distance).toFixed(2),\n          IPC_code_only: [...new Set(item.IPC_code_only.replace(/[\\[\\]']+/g, '').split(','))].join(', '), // 배열 표현을 문자열로 변환\n          details: item.요약,\n        };\n      });\n      setDomesticData(transformedDomesticData);\n  \n      const transformedInternationalData = responseData.foreign_results.results.map((item, index) => ({\n        number: index + 1,\n        id: item.id,\n        country: item.국가,\n        발명의명칭: item.발명의명칭,\n        distance: (1 - item.distance).toFixed(2),\n        IPC_code_only: item.ipc_category.replace(/[\\[\\]']+/g, ''), // 배열 표현을 문자열로 변환\n        details: item.요약,\n      }));\n      setInternationalData(transformedInternationalData);\n\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } finally {\n      setIsLoading(false); // 로딩 상태 종료\n    }\n  };\n\n  const openDetailsDialog = (item) => {\n    setSelectedItemDetails(item.details); // Assume 'details' contains the summary text\n    setIsDialogOpen(true);\n  };\n  \n\n  const handleButtonClick = async () => {\n    await handleSubmit(); // Call handleSubmit directly or modify to not use the event parameter\n  };\n\n\n  const [isLoading, setIsLoading] = useState(false); // 로딩 상태 관리\n\n  // 로딩 화면 컴포넌트\n  const LoadingOverlay = () => {\n    const messages = [\n      <>\n      <div style={{ fontSize: '50px', marginBottom: '5px', color: '#252a2f' }}>🤔</div>\n      <div>작성해주신 내용을 분석하고 있어요</div>\n      </>,\n      <>\n      <div style={{ fontSize: '50px', marginBottom: '5px', color: '#252a2f' }}>⌛️</div>\n      <div>n분정도 소요될 수 있어요</div>\n      </>\n    ];\n    \n    const [currentMessageIndex, setCurrentMessageIndex] = useState(0);\n  \n    useEffect(() => {\n      const intervalId = setInterval(() => {\n        setCurrentMessageIndex((prevIndex) => (prevIndex + 1) % messages.length);\n      }, 4000); // 메시지 변경 주기를 4초로 설정 (애니메이션 주기에 맞춤)\n  \n      return () => clearInterval(intervalId);\n    }, []);\n  \n    return (\n      <Overlay>\n        <Message>{messages[currentMessageIndex]}</Message>\n      </Overlay>\n    );\n  };\n\n  \n\n  return (\n    <div>\n      <AllGlobalStyle />\n      <HeaderComponent>\n        {/* HeaderComponent의 RightContainer에 들어갈 내용을 children으로 전달 */}\n        <ClickableBox onClick={() => navigateTo('/spec-page')}>\n          <HeaderBoxTextNone>명세서 작성</HeaderBoxTextNone>\n        </ClickableBox>\n        <ClickableBox onClick={() => navigateTo('/sim-page')}>\n          <HeaderBoxText>유사도 분석</HeaderBoxText>\n        </ClickableBox>\n        <ClickableBox onClick={() => navigateTo('/research-page-main')}>\n          <HeaderBoxTextNone>연구동향</HeaderBoxTextNone>\n        </ClickableBox>\n      </HeaderComponent>\n      <Wrapper>\n          <MainTitleText>📈 <HighlightText>유사도 분석</HighlightText> 을 도와드릴게요</MainTitleText>\n          <GuideText>* 현재 서비스는 한국/미국/중국/일본/유럽 다섯 국가의 특허 정보만 제공하고 있습니다</GuideText>\n          <SubText style={{marginTop: '40px', marginBottom:'-50px'}}>아이디어를 입력해주시면, 한 번에 국내외 유사 특허를 보여드려요</SubText>\n          <SecondWrapper>\n            <CustomTextInput \n              placeholder={\"분석할 아이디어를 입력해주세요\"}\n              value={text}\n              onChange={handleChange}\n            />\n            <CustomButton title='🔍' onClick={handleButtonClick} /> {/* 버튼 클릭 이벤트 핸들러 연결 */}\n          </SecondWrapper>\n          {hasData && (\n          <ThirdWrapper isVisible={hasData}>\n            <SubText>당신의 아이디어를 분석한 결과, 유사한 특허는 아래와 같아요</SubText>\n            <FourthWrapper>\n              <DefaultText>🇰🇷 국내 특허</DefaultText>\n              <Table columns={columns} data={domesticData} />\n            </FourthWrapper>\n            <FourthWrapper>\n              <DefaultText>🌎 해외 특허</DefaultText>\n              <Table columns={columns} data={internationalData} />\n            </FourthWrapper>\n          </ThirdWrapper>\n          )}\n      </Wrapper>\n      {isLoading && <LoadingOverlay />}\n      {isDialogOpen && (\n        <Dialog\n          title=\"발명 요약 정보\"\n          confirmText=\"확인\"\n          onCancel={() => setIsDialogOpen(false)}\n          onConfirm={() => setIsDialogOpen(false)}\n          visible={isDialogOpen}\n        >\n          {selectedItemDetails}\n        </Dialog>\n      )}\n    </div>\n  );\n};\n\nexport default SimPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}